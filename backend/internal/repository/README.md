# ðŸ“¦ internal/repository

Ð­Ñ‚Ð¾Ñ‚ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð·Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð´Ð°Ð½Ð½Ñ‹Ð¼ (Data Access Layer) Ð¸ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð² ÑÐµÐ±Ñ:

- GORM-Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð´Ð»Ñ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ñ‚Ð°Ð±Ð»Ð¸Ñ†
- Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÐµÐ² Ð´Ð»Ñ PostgreSQL
- Ð¡Ñ…ÐµÐ¼Ñ‹ (DTO) Ð´Ð»Ñ Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¼ÐµÐ¶Ð´Ñƒ ÑÐ»Ð¾ÑÐ¼Ð¸ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, handler â†” service)

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°:

### ðŸ“ models/

Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ **GORM-Ð¼Ð¾Ð´ÐµÐ»Ð¸**, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ñ‚Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð² Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ….

ÐŸÑ€Ð¸Ð¼ÐµÑ€: `User`, `Word`, `Sentence`, `Preferences` Ð¸ Ñ‚.Ð´.

> Ð­Ñ‚Ð¸ Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð´Ð»Ñ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¹, ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ, Ñ‡Ñ‚ÐµÐ½Ð¸Ñ Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹ Ñ‡ÐµÑ€ÐµÐ· GORM.

---

### ðŸ“ postgres/

Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ **Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÐµÐ²**, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÑŽÑ‚ Ñ Ð±Ð°Ð·Ð¾Ð¹ Ð´Ð°Ð½Ð½Ñ‹Ñ… PostgreSQL Ñ‡ÐµÑ€ÐµÐ· GORM.

ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» â€” ÑÑ‚Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸ (CRUD, Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ, Ð¿Ð¾Ð¸ÑÐº Ð¸ Ñ‚.Ð´.)

ÐŸÑ€Ð¸Ð¼ÐµÑ€:  
- `word_postgres.go` â€” Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ `words`
- `user_postgres.go` â€” Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ `users`

> Ð­Ñ‚Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒ Ð² ÑÐµÑ€Ð²Ð¸ÑÑ‹ ÐºÐ°Ðº Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸.

---

### ðŸ“ schemas/

Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ **DTO (Data Transfer Objects)** â€” ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑŽÑ‚ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¼ÐµÐ¶Ð´Ñƒ ÑÐ»Ð¾ÑÐ¼Ð¸.

Ð—Ð´ÐµÑÑŒ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ ÑÑ…ÐµÐ¼Ñ‹:
- Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `CreateUserRequest`)
- Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `UserResponse`)
- Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð², Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð², Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¹

> Ð­Ñ‚Ð¸ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð°Ð±ÑÑ‚Ñ€Ð°Ð³Ð¸Ñ€ÑƒÑŽÑ‚ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÑƒ Ð¾Ñ‚ ÑÐ»Ð¾Ñ‘Ð² HTTP Ð¸ Ð±Ð°Ð·Ñ‹.

---

## ðŸ’¡ ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¿Ð¾Ñ‚Ð¾ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…:

1. `handlers/word_handler.go` Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ HTTP-Ð·Ð°Ð¿Ñ€Ð¾Ñ Ñ JSON
2. ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÐµÑ‚ ÐµÐ³Ð¾ Ð² `schemas.WordCreateRequest`
3. Ð’Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ `service.WordService.Create(...)`
4. Ð¡ÐµÑ€Ð²Ð¸Ñ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ `postgres.WordPostgres.Create(...)`, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ `models.Word`

---

## ðŸ§­ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸

- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ `models/` Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ ORM
- Ð’ `schemas/` Ð¸Ð·Ð±ÐµÐ³Ð°Ð¹ `gorm`-Ñ‚ÐµÐ³Ð¾Ð² â€” Ñ‚Ð¾Ð»ÑŒÐºÐ¾ `json` Ð¸ `validate`
- Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð² `postgres/` Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°Ð¼

## Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ (Ð¾Ñ‚ Ð”Ð°Ð½Ð¸):

> Ð¡Ñ‚Ð¾Ð¸Ñ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€ uuid Ð² postgresql
 ```SQL
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
```
